<!DOCTYPE html>
<html ng-app='alambic'>
<head>
<meta charset="UTF-8">
<title>Alambic II</title>
<script type="text/javascript" src="bower_components/angular/angular.js"></script>

<link rel="shortcut icon" sizes="16x15" href="images/alambicon.ico">
<link rel="stylesheet" type="text/css" href="bower_components/nvd3/nv.d3.css" />
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link rel="stylesheet" type="text/css" href="css/menuStyle.css" />

</head>

<body>
   <div id="wrapper">
      <section class="content" id="content-center">
         <header>
            <a href="index.html">
               <img title="Alambic &agrave; formules temporelles II" alt="Alambic II"
                  src="images/logo_alamb.png" width="91" height="85" />
               <span>ALAMBIC &Agrave; FORMULES TEMPORELLES II</span>
            </a>
         </header>

         <ng-view></ng-view>

         <script type="text/ng-template" id="home.html">
<nav>
   <ul id="nav">
      <li class="current">
         <a href="#/">Home</a>
      </li>
      <li>
         <a href="#/howto">How To</a>
      </li>
      <li>
         <a href="#/about">About</a>
      </li>
   </ul>
</nav>

<!-- <section class="slideWrapper"> -->
<!--    <div class="slide"> -->
<!--       <input type="checkbox" value="None" id="slideThree" name="check" checked /> -->
<!--       <label for="slideThree"></label> -->
<!--    </div> -->
<!-- </section> -->

<div class="alambic--container">
   <div class="alambic--wrapper">
      <div>
         <a class="btn-floating-left" title="Generate random signals" ng-click="generateSignals()"></a>
         <a class="btn-floating-right" title="Generate random formula" ng-click="generateFormula()"
           ng-disabled="signals.bs.universe.isEmpty()"></a>
      </div>
      <div class="alambic--signal">
         <form name="alambicSignalsForm" role="form" class="alambic--form" novalidate>
            <div class="alambic--input-wrapper">
               <input class="alambic--input" type="search" name="inputData"
                  placeholder="e.g. a = 11001/01;b = 101/0" ng-model="signalsString"
                  validate-signals />
            </div>
            <input class="alambic--submit" type="submit" value="&#10140;"
               ng-disabled="alambicSignalsForm.$invalid || !signalsString.length"
               ng-click="addSignals()" />
         </form>

         <form name="alambicSignalsListForm" role="form" class="alambic--form" novalidate>
            <div class="alambic--list">
               <ul class="ul--signals">
                  <li ng-repeat="sig in signals.bs.universe.getSignals() track by sig.getId()"
                     id="signal{{sig.getId()}}">
                     <a ng-hide="sig.isEditorEnabled()"
                        ng-bind-html="sig.getContent() | signalFormatter"
                        ng-click="editable.editableSignal.enableEditor(sig.getId(), $event)"></a>
                     <input type="text" name="inputEditor" class="alambic--editorField"
                        ng-show="sig.isEditorEnabled()" ng-model="editable.editableSignal.text"
                        on-esc="editable.editableSignal.disableEditor(sig.getId())"
                        on-enter="alambicSignalsListForm.$valid ? updateSignal(sig.getId()) : ''"
                        gain-focus="sig.isEditorEnabled()" validate-editable-signal />

                     <a class="cancel--signal" ng-show="sig.isEditorEnabled()"
                        ng-click="editable.editableSignal.disableEditor(sig.getId())"></a>
                     <button class="edit--signal" ng-disabled="alambicSignalsListForm.$invalid"
                        ng-show="sig.isEditorEnabled()" ng-click="updateSignal(sig.getId())"></button>
                     <button class="delete--signal" ng-hide="sig.isEditorEnabled()"
                        ng-disabled="sig.isReferred()" ng-click="removeSignal(sig.getId())"></button>
                  </li>
               </ul>
            </div>
         </form>
      </div>

      <div class="alambic--formula">
         <form name="alambicFormulaForm" role="form" class="alambic--form" novalidate>
            <div class="alambic--input-wrapper">
               <input class="alambic--input" type="search" name="inputData"
                  placeholder="ex. f = []a | b" ng-model="formulaString" validate-formulas />
            </div>
            <input class="alambic--submit" type="submit" value="&#10140;"
               ng-disabled="alambicFormulaForm.$invalid || !formulaString.length"
               ng-click="addFormula()" />
         </form>

         <form name="alambicFormulaListForm" role="form" class="alambic--form" novalidate>
            <div class="alambic--list">
               <ul class="ul--signals">
                  <li
                     ng-repeat="formula in signals.tf.formulasManager.getFormulas() track by formula.getId()"
                     id="formula{{formula.getId()}}">
                     <a ng-hide="formula.isEditorEnabled()"
                        ng-bind-html='formula.getContent() | formulaFormatter'
                        ng-click="editable.editableFormula.enableEditor(formula.getId(), $event)"></a>

                     <input type="text" name="inputEditor" class="alambic--editorField"
                        ng-show="formula.isEditorEnabled()" ng-model="editable.editableFormula.text"
                        on-esc="editable.editableFormula.disableEditor(formula.getId())"
                        on-enter="alambicFormulaListForm.$valid ? updateFormula(formula.getId()) : ''"
                        gain-focus="formula.isEditorEnabled()" validate-editable-formula />

                     <a class="cancel--signal" ng-show="formula.isEditorEnabled()"
                        ng-click="editable.editableFormula.disableEditor(formula.getId())"></a>
                     <button class="edit--signal" ng-disabled="alambicFormulaListForm.$invalid"
                        ng-show="formula.isEditorEnabled()"
                        ng-click="updateFormula(formula.getId())"></button>
                     <a class="delete--signal" ng-hide="formula.isEditorEnabled()"
                        ng-click="removeFormula(formula.getId())"></a>
                  </li>
               </ul>
            </div>
         </form>
      </div>
   </div>

   <div class="chart--wrapper">
      <div ng-repeat="formula in signals.tf.formulasManager.getFormulas() track by formula.getId()">
         <nvd3-line-chart data="formula.getChartData()" showXAxis="true" showYAxis="true"
            useinteractiveguideline="false" interactive="false" clipEdge="false" showlegend="true"
            legendradiobuttonmode="false" forcey="[0,1]" width="1090" height="115"
            margin="{left:15,top:20,bottom:50,right:20}"> </nvd3-line-chart>
      </div>
      <div ng-repeat="signal in signals.bs.universe.getSignals() track by signal.getId()">
         <nvd3-line-chart data="signal.getChartData()" showXAxis="true" showYAxis="true"
            useinteractiveguideline="false" interactive="false" clipEdge="false" showlegend="true"
            legendradiobuttonmode="false" forcey="[0,1]" width="1090" height="115"
            margin="{left:15,top:20,bottom:50,right:20}"> </nvd3-line-chart>
      </div>
   </div>
</div>
         </script>
         <script type="text/ng-template" id="how-to.html">

<nav>
   <ul id="nav">
      <li>
         <a href="#/">Home</a>
      </li>
      <li class="current">
         <a href="#/howto">How To</a>
      </li>
      <li>
         <a href="#/about">About</a>
      </li>
   </ul>
</nav>

<div class="about--wrapper">
   <div class="about--content">
      <h1>Welcome to Alambic II Tool!</h1>
      <p>This is a tool for evaluating temporal formulas, based on a set of specified boolean
         signals. These formulas are a straight-forward way to illustrate what can sometimes become
         very complicated processing in systems with temporal logic. The features of this app are:</p>
      <ul>
         <li>Management of boolean signals</li>
         <li>Boolean signal presentation in SVG</li>
         <li>Management of temporal formulas</li>
         <li>Temporal formula presentation in SVG</li>
         <li>Evaluation of a temporal formula based on referenced boolean signals</li>
      </ul>

      <h2>Boolean signals</h2>

      <h3>Symbols</h3>

      <p>Below is the notation used to define boolean signal:</p>
      <table>
         <tr>
            <td>Equal sign &#40;{{symbols.equal}}&#41;:</td>
            <td>used to associate a boolean signal to its identifier</td>
         </tr>
         <tr>
            <td>Slash &#40;{{symbols.slash}}&#41;:</td>
            <td>used to determine the periodic part of a signal</td>
         </tr>
         <tr>
            <td>Semi-colon &#40;{{symbols.semiColon}}&#41;:</td>
            <td>used to separated multiple boolean signals</td>
         </tr>
      </table>

      <p>Boolean signals must follow a strict syntax: id1 = fixedPart1/periodicPart1[;id2 =
         fixedPart2/periodicPart2...]</p>

      <h3>Parts of a boolean signal</h3>

      <p>Each boolean signal is composed of three basic parts</p>
      <dl>
         <dt>identifiers</dt>
         <dd>identifiers match an exact string of text in lower case and must be unique. e.g.
            a, b, mysignal, etc.</dd>

         <dt>fixed part of a signal</dt>
         <dd>every signal has a fixed part composed of 1s and 0s. e.g. 1011, 101, etc.</dd>

         <dt>periodic part of a signal</dt>
         <dd>every signal has an endlessly repeated part composed of 1s and 0s and preceded by
            a slash. e.g. /01, /011, etc.</dd>
      </dl>
      <p>
         So a boolean signal can be represented such as: a = 1001/11. One can provide multiple
         boolean signals separated by semi-colons.
         <br />
         For example: a = 1001/11;b = 101/10.
         <br />
      </p>

      <p>A boolean signal can be altered by clicking on it in the list under the main text
         field. Once a modification has occurred, its chart is updated and also the charts of all of
         the formulas referencing it</p>

      <h2>Temporal formulas</h2>

      <h3>Symbols &amp; operators</h3>

      <p>Below is the notation used to define logical and temporal operators:</p>
      <table class="operatorsTable">
         <tr>
            <td>
               logical AND &#40;
               <span ng-bind-html='symbols.prettyAnd'></span>
               &#41;:
            </td>
            <td>&amp;</td>
         </tr>
         <tr>
            <td>
               logical OR &#40;
               <span ng-bind-html='symbols.prettyOr'></span>
               &#41;:
            </td>
            <td>&#124;</td>
         </tr>
         <tr>
            <td>
               NOT &#40;
               <span ng-bind-html='symbols.prettyNot'></span>
               &#41;:
            </td>
            <td>&#33;</td>
         </tr>
         <tr>
            <td>
               EVENTUALLY &#40;
               <span ng-bind-html='symbols.prettyEventually'></span>
               &#41;:
            </td>
            <td>&lt;&gt;</td>
         </tr>
         <tr>
            <td>
               ALWAYS &#40;
               <span ng-bind-html='symbols.prettyAlways'></span>
               &#41;:
            </td>
            <td>&#91;&#93;</td>
         </tr>
         <tr>
            <td>WEAK UNTIL &#40;W&#41;:</td>
            <td>W</td>
         </tr>
      </table>

      <h3>Operator precedence</h3>

      <p>Below is the order in which logical and temporal operators are evaluated:</p>

      <ol>
         <li>PARENTHESES &#40;&#41;</li>
         <li>
            NOT
            <span ng-bind-html='symbols.prettyNot'></span>
         </li>
         <li>
            EVENTUALLY
            <span ng-bind-html='symbols.prettyEventually'></span>
         </li>
         <li>
            ALWAYS
            <span ng-bind-html='symbols.prettyAlways'></span>
         </li>
         <li>WEAK UNTIL W</li>
         <li>
            AND
            <span ng-bind-html='symbols.prettyAnd'></span>
         </li>
         <li>
            OR
            <span ng-bind-html='symbols.prettyOr'></span>
         </li>
      </ol>


      <h3>Temporal formulas</h3>
      <p>Temporal formulas reference to existing boolean signals such as a&#44;b&#44; etc. For
         example&#44; the temporal formula f {{symbols.equal}} a W b references the signals a and b.
         Thus, these two signals cannot be deleted as long as they are referred.</p>
      <p>the relationship between temporal formulas and booleans signals is of type
         many-to-many. That means, each boolean signal can be referred by zero or many temporal
         formulas, and a temporal formula can refer to one or many boolean signals.</p>

      <p>Temporal formulas can also be altered by clicking on them in the list below the main
         text field.</p>



      <h2>Graphical presentation</h2>

      <p>Both boolean signals and temporal formulas are presented by a boolean chart.</p>
   </div>
</div>
         </script>
         <script type="text/ng-template" id="about.html">
<nav>
   <ul id="nav">
      <li>
         <a href="#/">Home</a>
      </li>
      <li>
         <a href="#/howto">How To</a>
      </li>
      <li class="current">
         <a href="#/about">About</a>
      </li>
   </ul>
</nav>

<div class="about--wrapper">
   <div class="about--content">
      <h1>About</h1>
      <p>
         This is Alambic v2 created by Mouad El Merchichi using
         <a title="official site of angularJS" href="https://angularjs.org/" target="_blank">AngularJS</a>
         &amp;
         <a title="official site of d3" href="http://d3js.org/" target="_blank">d3</a>
         frameworks. Monitored by Mr. Fr&eacute;d&eacute;ric Bapst &amp; Mr. Fran&ccedil;ois
         Kilchoer.
      </p>
         </script>

         <footer>HEIA-FR</footer>
      </section>
   </div>

   <!-- Scripts -->
   <script type="text/javascript"
      src="bower_components/angular-local-storage/dist/angular-local-storage.js"></script>
   <script type="text/javascript" src="bower_components/angular-route/angular-route.js"></script>
   <script type="text/javascript" src="bower_components/d3/d3.js"></script>
   <script type="text/javascript" src="bower_components/nvd3/nv.d3.js"></script>
   <script type="text/javascript"
      src="bower_components/angularjs-nvd3-directives/angularjs-nvd3-directives.js"></script>
   <script type="text/javascript" src="bower_components/lodash/lodash.min.js"></script>

   <!-- My JS scripts -->
   <script type="text/javascript" src="js/app/app.js"></script>
   <script type="text/javascript" src="js/models/helpers/Symbols.js"></script>
   <script type="text/javascript" src="js/models/helpers/Util.js"></script>
   <script type="text/javascript" src="js/app/controllers/mainController.js"></script>
   <script type="text/javascript" src="js/app/controllers/howToController.js"></script>
   <script type="text/javascript" src="js/app/controllers/aboutController.js"></script>
   <script type="text/javascript" src="js/app/services/services.js"></script>
   <script type="text/javascript" src="js/app/directives/eventsDirectives.js"></script>
   <script type="text/javascript" src="js/app/directives/validationDirectives.js"></script>
   <script type="text/javascript" src="js/app/filters/formattingFilters.js"></script>

   <script type="text/javascript" src="js/models/analysers/Lexer.js"></script>
   <script type="text/javascript" src="js/models/helpers/Extend.js"></script>
   <script type="text/javascript" src="js/models/analysers/BooleanSignalLexer.js"></script>
   <script type="text/javascript" src="js/models/analysers/TemporalFormulaLexer.js"></script>
   <script type="text/javascript" src="js/models/analysers/BooleanSignalSyntaxDiagram.js"></script>
   <script type="text/javascript" src="js/models/analysers/TemporalFormulaSyntaxDiagram.js"></script>
   <script type="text/javascript" src="js/models/operators/Operator.js"></script>
   <script type="text/javascript" src="js/models/operators/TemporalOperator.js"></script>
   <script type="text/javascript" src="js/models/operators/And.js"></script>
   <script type="text/javascript" src="js/models/operators/Or.js"></script>
   <script type="text/javascript" src="js/models/operators/Not.js"></script>
   <script type="text/javascript" src="js/models/operators/Always.js"></script>
   <script type="text/javascript" src="js/models/operators/Eventually.js"></script>
   <script type="text/javascript" src="js/models/operators/WeakUntil.js"></script>
   <script type="text/javascript" src="js/models/analysers/TemporalFormulaInterpreter.js"></script>
   <script type="text/javascript" src="js/models/business/Map.js"></script>
   <script type="text/javascript" src="js/models/business/Universe.js"></script>
   <script type="text/javascript" src="js/models/business/FormulasManager.js"></script>
   <script type="text/javascript" src="js/models/entities/BooleanSignal.js"></script>
   <script type="text/javascript" src="js/models/entities/TemporalFormula.js"></script>
   <script type="text/javascript" src="js/models/generators/BooleanSignalGenerator.js"></script>
   <script type="text/javascript" src="js/models/generators/FormulaGenerator.js"></script>
</body>
</html>