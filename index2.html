<!DOCTYPE html>
<html lang="en" ng-app="alambic">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description"
   content="The main purpose of this application is to evaluate temporal formulas referencing a set boolean signals">
<meta name="author" content="Mouad El Merchichi">

<title>Alambic II</title>
<script type="text/javascript" src="bower_components/angular/angular.js"></script>
<script src="bower_components/jquery/dist/jquery.min.js" type="text/javascript"></script>
<script src="bower_components/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script type="text/javascript"
   src="bower_components/angular-local-storage/dist/angular-local-storage.js"></script>
<script type="text/javascript" src="bower_components/angular-route/angular-route.js"></script>
<script type="text/javascript" src="bower_components/d3/d3.js"></script>
<script type="text/javascript" src="bower_components/nvd3/nv.d3.js"></script>
<script type="text/javascript"
   src="bower_components/angularjs-nvd3-directives/angularjs-nvd3-directives.js"></script>
<script type="text/javascript" src="bower_components/lodash/lodash.min.js"></script>

<link href="bower_components/bootstrap/css/bootstrap.min.css" rel="stylesheet">

<link rel="shortcut icon" sizes="16x15" href="images/alambicon.ico">
<link rel="stylesheet" type="text/css" href="bower_components/nvd3/nv.d3.css" />
<link rel="stylesheet" type="text/css" href="css/bootsrap-style.css" />

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
   <header>
      <div class="header-limiter">
         <h1>
            <a href="#">
               ALAMBIC &Agrave; FORMULES TEMPORELLES
               <span>II</span>
            </a>
         </h1>
      </div>
   </header>

   <div class="container drop-shadow">
      <!-- Navigation tabs -->
      <ul class="nav nav-tabs" role="tablist">
         <li role="presentation" class="active">
            <a href="#home" aria-controls="home" role="tab" data-toggle="tab">Home</a>
         </li>
         <li role="presentation">
            <a href="#howTo" aria-controls="howTo" role="tab" data-toggle="tab">How To</a>
         </li>
         <li role="presentation">
            <a href="#about" aria-controls="about" role="tab" data-toggle="tab">About</a>
         </li>
      </ul>

      <!-- Tab panes -->
      <div class="tab-content main-content">
         <div role="tabpanel" class="tab-pane active" id="home" ng-controller="MainController">
            <div class="row top-buffer">
               <div class="col-sm-6 col-md-6 col-lg-6">
                  <div class="panel panel-default fix-panel">
                     <div class="panel-body">
                        <form name="alambicSignalsForm" role="form" novalidate>
                           <div class="input-group input-group-lg"
                              ng-class="{'has-error has-feedback' : 
                                        alambicSignalsForm.inputData.$invalid}">
                              <input type="text" class="form-control" name="inputData"
                                 placeholder="e.g. a = 11001/01;b = 101/0" ng-model="signalsString"
                                 validate-signals />
                              <div class="input-group-btn">
                                 <button class="btn btn-default" type="submit" value="&#10140;"
                                    ng-disabled="alambicSignalsForm.$invalid || !signalsString.length"
                                    ng-click="addSignals()">
                                    <i class="glyphicon glyphicon-plus"></i>
                                 </button>
                              </div>
                           </div>
                        </form>

                        <form name="alambicSignalsListForm" class="top-buffer" role="form"
                           novalidate>
                           <ul class="list-group y-scroll">
                              <li class="list-group-item"
                                 ng-repeat="sig in signals.bs.universe.getSignals() track by sig.getId()"
                                 id="signal{{sig.getId()}}">

                                 <div class="row">
                                    <div class="col-sm-8 col-md-8 col-lg-8 text-left">
                                       <a ng-hide="sig.isEditorEnabled()"
                                          ng-bind-html="sig.getContent() | signalFormatter"
                                          ng-click="editable.editableSignal.enableEditor(sig.getId(), $event)"></a>

                                       <div class="input-group input-group-sm"
                                          ng-class="{'has-error has-feedback' : 
                                        alambicSignalsListForm.$invalid && alambicSignalsListForm.$dirty}">
                                          <input type="text" name="inputEditor" class="form-control alambic-editorField"
                                             ng-show="sig.isEditorEnabled()"
                                             ng-model="editable.editableSignal.text"
                                             on-esc="editable.editableSignal.disableEditor(sig.getId())"
                                             on-enter="alambicSignalsListForm.$valid ? updateSignal(sig.getId()) : ''"
                                             gain-focus="sig.isEditorEnabled()"
                                             validate-editable-signal />
                                       </div>
                                    </div>

                                    <div class="col-sm-4 col-md-4 col-lg-4 text-right">
                                       <button class="btn-link"
                                          ng-disabled="alambicSignalsListForm.$invalid"
                                          ng-show="sig.isEditorEnabled()"
                                          ng-click="updateSignal(sig.getId())">
                                          <span class="glyphicon glyphicon-ok-circle"></span>
                                       </button>
                                       <button class="btn-link" ng-show="sig.isEditorEnabled()"
                                          ng-click="editable.editableSignal.disableEditor(sig.getId())">
                                          <span class="glyphicon glyphicon-log-out"></span>
                                       </button>
                                       <button class="btn-link" ng-hide="sig.isEditorEnabled()"
                                          ng-disabled="sig.isReferred()"
                                          ng-click="removeSignal(sig.getId())">
                                          <span class="glyphicon glyphicon-remove-circle"></span>
                                       </button>
                                    </div>
                                 </div>
                              </li>
                           </ul>
                        </form>
                     </div>
                  </div>
               </div>

               <div class="col-sm-6 col-md-6 col-lg-6">
                  <div class="panel panel-default fix-panel">
                     <div class="panel-body">
                        <form name="alambicFormulaForm" role="form" novalidate>
                           <div class="input-group input-group-lg"
                              ng-class="{'has-error has-feedback' : 
                                        alambicFormulaForm.inputData.$invalid}">
                              <input type="text" class="form-control" name="inputData"
                                 placeholder="ex. f = []a | b" ng-model="formulaString"
                                 validate-formulas />
                              <div class="input-group-btn">
                                 <button class="btn btn-default" type="submit" value="&#10140;"
                                    ng-disabled="alambicFormulaForm.$invalid || !formulaString.length"
                                    ng-click="addFormula()">
                                    <i class="glyphicon glyphicon-plus"></i>
                                 </button>
                              </div>
                           </div>
                        </form>

                        <form name="alambicFormulaListForm" class="top-buffer" role="form"
                           novalidate>
                           <ul class="list-group y-scroll">
                              <li class="list-group-item"
                                 ng-repeat="formula in signals.tf.formulasManager.getFormulas() track by formula.getId()"
                                 id="formula{{formula.getId()}}">

                                 <div class="row">
                                    <div class="col-sm-8 col-md-8 col-lg-8 text-left">
                                       <a ng-hide="formula.isEditorEnabled()"
                                          ng-bind-html='formula.getContent() | formulaFormatter'
                                          ng-click="editable.editableFormula.enableEditor(formula.getId(), $event)"></a>

                                       <div class="input-group input-group-sm"
                                          ng-class="{'has-error has-feedback' : 
                                        alambicFormulaListForm.$invalid && alambicFormulaListForm.$dirty}">
                                          <input type="text" name="inputEditor" class="form-control alambic-editorField"
                                             ng-show="formula.isEditorEnabled()"
                                             ng-model="editable.editableFormula.text"
                                             on-esc="editable.editableFormula.disableEditor(formula.getId())"
                                             on-enter="alambicFormulaListForm.$valid ? updateFormula(formula.getId()) : ''"
                                             gain-focus="formula.isEditorEnabled()"
                                             validate-editable-formula />
                                       </div>
                                    </div>

                                    <div class="col-sm-4 col-md-4 col-lg-4 text-right">
                                       <button class="btn-link"
                                          ng-disabled="alambicFormulaListForm.$invalid"
                                          ng-show="formula.isEditorEnabled()"
                                          ng-click="updateFormula(formula.getId())">
                                          <span class="glyphicon glyphicon-ok-circle"></span>
                                       </button>
                                       <button class="btn-link" ng-show="formula.isEditorEnabled()"
                                          ng-click="editable.editableFormula.disableEditor(formula.getId())">
                                          <span class="glyphicon glyphicon-log-out"></span>
                                       </button>
                                       <button class="btn-link" ng-hide="formula.isEditorEnabled()"
                                          ng-click="removeFormula(formula.getId())">
                                          <span class="glyphicon glyphicon-remove-circle"></span>
                                       </button>
                                    </div>
                                 </div>
                              </li>
                           </ul>
                        </form>
                     </div>
                  </div>
               </div>
               <div class="col-sm-12 col-md-12 col-lg-12">
                  <div class="panel panel-default chart-grid">
                     <div class="panel-body">
                        <div
                           ng-repeat="formula in signals.tf.formulasManager.getFormulas() track by formula.getId()">
                           <nvd3-line-chart data="formula.getChartData()" showXAxis="true"
                              showYAxis="true" useinteractiveguideline="false" interactive="false"
                              clipEdge="false" showlegend="true" legendradiobuttonmode="false"
                              forcey="[0,1]" width="1090" height="115"
                              margin="{left:15,top:20,bottom:50,right:20}"> </nvd3-line-chart>
                        </div>
                        <div
                           ng-repeat="signal in signals.bs.universe.getSignals() track by signal.getId()">
                           <nvd3-line-chart data="signal.getChartData()" showXAxis="true"
                              showYAxis="true" useinteractiveguideline="false" interactive="false"
                              clipEdge="false" showlegend="true" legendradiobuttonmode="false"
                              forcey="[0,1]" width="1090" height="115"
                              margin="{left:15,top:20,bottom:50,right:20}"> </nvd3-line-chart>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>

         <!-- How To Tab panel -->
         <div role="tabpanel" class="tab-pane" id="howTo" ng-controller="HowToController">
            <div class="how-to-content">
               <h1>Welcome to Alambic II Tool!</h1>
               <p>This is a tool for evaluating temporal formulas, based on a set of specified
                  boolean signals. These formulas are a straight-forward way to illustrate what can
                  sometimes become very complicated processing in systems with temporal logic. The
                  features of this app are:</p>
               <ul>
                  <li>Management of boolean signals</li>
                  <li>Boolean signal presentation in SVG</li>
                  <li>Management of temporal formulas</li>
                  <li>Temporal formula presentation in SVG</li>
                  <li>Evaluation of a temporal formula based on referenced boolean signals</li>
               </ul>

               <h2>Boolean signals</h2>

               <h3>Symbols</h3>

               <p>Below is the notation used to define boolean signal:</p>
               <table>
                  <tr>
                     <td>Equal sign &#40;{{symbols.equal}}&#41;:</td>
                     <td>used to associate a boolean signal to its identifier</td>
                  </tr>
                  <tr>
                     <td>Slash &#40;{{symbols.slash}}&#41;:</td>
                     <td>used to determine the periodic part of a signal</td>
                  </tr>
                  <tr>
                     <td>Semi-colon &#40;{{symbols.semiColon}}&#41;:</td>
                     <td>used to separated multiple boolean signals</td>
                  </tr>
               </table>

               <p>Boolean signals must follow a strict syntax: id1 =
                  fixedPart1/periodicPart1[;id2 = fixedPart2/periodicPart2...]</p>

               <h3>Parts of a boolean signal</h3>

               <p>Each boolean signal is composed of three basic parts</p>
               <dl>
                  <dt>identifiers</dt>
                  <dd>identifiers match an exact string of text in lower case and must be
                     unique. e.g. a, b, mysignal, etc.</dd>

                  <dt>fixed part of a signal</dt>
                  <dd>every signal has a fixed part composed of 1s and 0s. e.g. 1011, 101, etc.</dd>

                  <dt>periodic part of a signal</dt>
                  <dd>every signal has an endlessly repeated part composed of 1s and 0s and
                     preceded by a slash. e.g. /01, /011, etc.</dd>
               </dl>
               <p>
                  So a boolean signal can be represented such as: a = 1001/11. One can provide
                  multiple boolean signals separated by semi-colons.
                  <br />
                  For example: a = 1001/11;b = 101/10.
                  <br />
               </p>

               <p>A boolean signal can be altered by clicking on it in the list under the main
                  text field. Once a modification has occurred, its chart is updated and also the
                  charts of all of the formulas referencing it</p>

               <h2>Temporal formulas</h2>

               <h3>Symbols &amp; operators</h3>

               <p>Below is the notation used to define logical and temporal operators:</p>
               <table class="operatorsTable">
                  <tr>
                     <td>
                        logical AND &#40;
                        <span ng-bind-html='symbols.prettyAnd'></span>
                        &#41;:
                     </td>
                     <td>&amp;</td>
                  </tr>
                  <tr>
                     <td>
                        logical OR &#40;
                        <span ng-bind-html='symbols.prettyOr'></span>
                        &#41;:
                     </td>
                     <td>&#124;</td>
                  </tr>
                  <tr>
                     <td>
                        NOT &#40;
                        <span ng-bind-html='symbols.prettyNot'></span>
                        &#41;:
                     </td>
                     <td>&#33;</td>
                  </tr>
                  <tr>
                     <td>
                        EVENTUALLY &#40;
                        <span ng-bind-html='symbols.prettyEventually'></span>
                        &#41;:
                     </td>
                     <td>&lt;&gt;</td>
                  </tr>
                  <tr>
                     <td>
                        ALWAYS &#40;
                        <span ng-bind-html='symbols.prettyAlways'></span>
                        &#41;:
                     </td>
                     <td>&#91;&#93;</td>
                  </tr>
                  <tr>
                     <td>WEAK UNTIL &#40;W&#41;:</td>
                     <td>W</td>
                  </tr>
               </table>

               <h3>Operator precedence</h3>

               <p>Below is the order in which logical and temporal operators are evaluated:</p>

               <ol>
                  <li>PARENTHESES &#40;&#41;</li>
                  <li>
                     NOT
                     <span ng-bind-html='symbols.prettyNot'></span>
                  </li>
                  <li>
                     EVENTUALLY
                     <span ng-bind-html='symbols.prettyEventually'></span>
                  </li>
                  <li>
                     ALWAYS
                     <span ng-bind-html='symbols.prettyAlways'></span>
                  </li>
                  <li>WEAK UNTIL W</li>
                  <li>
                     AND
                     <span ng-bind-html='symbols.prettyAnd'></span>
                  </li>
                  <li>
                     OR
                     <span ng-bind-html='symbols.prettyOr'></span>
                  </li>
               </ol>


               <h3>Temporal formulas</h3>
               <p>Temporal formulas reference to existing boolean signals such as a&#44;b&#44;
                  etc. For example&#44; the temporal formula f {{symbols.equal}} a W b references
                  the signals a and b. Thus, these two signals cannot be deleted as long as they are
                  referenced.</p>
               <p>the relationship between temporal formulas and booleans signals is of type
                  many-to-many. That means, each boolean signal can be referenced by zero or many
                  temporal formulas, and a temporal formula can refer to one or many boolean
                  signals.</p>

               <p>Temporal formulas can also be altered by clicking on them in the list below
                  the main text field.</p>

               <h2>Graphical presentation</h2>

               <p>Both boolean signals and temporal formulas are presented by a boolean chart.</p>
            </div>
         </div>

         <!-- About Tab panel -->
         <div role="tabpanel" class="tab-pane" id="about" ng-controller="AboutController">
            <div class="about--content">
               <h1>About</h1>
               <p>
                  This is Alambic v2 created by Mouad El Merchichi using
                  <a title="official site of angularJS" href="https://angularjs.org/"
                     target="_blank">AngularJS</a>
                  &comma;
                  <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>
                  &amp;
                  <a title="official site of d3" href="http://d3js.org/" target="_blank">d3</a>
                  frameworks. Monitored by Mr. Fr&eacute;d&eacute;ric Bapst &amp; Mr.
                  Fran&ccedil;ois Kilchoer.
               </p>
            </div>
         </div>
      </div>

      <hr />

      <!-- Footer -->
      <footer>
         <div class="row">
            <div class="col-lg-12">
               <p>Copyright &copy; Alambic II 2015</p>
            </div>
         </div>
      </footer>
   </div>

   <!-- My scripts -->
   <script type="text/javascript" src="js/app/app.js"></script>
   <script type="text/javascript" src="js/model/util/Symbols.js"></script>
   <script type="text/javascript" src="js/app/controllers/mainController.js"></script>
   <script type="text/javascript" src="js/app/controllers/howToController.js"></script>
   <script type="text/javascript" src="js/app/controllers/aboutController.js"></script>
   <script type="text/javascript" src="js/app/services/services.js"></script>
   <script type="text/javascript" src="js/app/filters/formattingFilters.js"></script>
   <script type="text/javascript" src="js/app/directives/eventsDirectives.js"></script>
   <script type="text/javascript" src="js/app/directives/validationDirectives.js"></script>

   <script type="text/javascript" src="js/model/analysers/Lexer.js"></script>
   <script type="text/javascript" src="js/model/util/Extend.js"></script>
   <script type="text/javascript" src="js/model/analysers/BooleanSignalLexer.js"></script>
   <script type="text/javascript" src="js/model/analysers/TemporalFormulaLexer.js"></script>
   <script type="text/javascript" src="js/model/analysers/BooleanSignalSyntaxDiagram.js"></script>
   <script type="text/javascript" src="js/model/analysers/TemporalFormulaSyntaxDiagram.js"></script>
   <script type="text/javascript" src="js/model/operations/Operator.js"></script>
   <script type="text/javascript" src="js/model/operations/TemporalOperator.js"></script>
   <script type="text/javascript" src="js/model/operations/And.js"></script>
   <script type="text/javascript" src="js/model/operations/Or.js"></script>
   <script type="text/javascript" src="js/model/operations/Not.js"></script>
   <script type="text/javascript" src="js/model/operations/Always.js"></script>
   <script type="text/javascript" src="js/model/operations/Eventually.js"></script>
   <script type="text/javascript" src="js/model/operations/WeakUntil.js"></script>
   <script type="text/javascript" src="js/model/analysers/TemporalFormulaInterpreter.js"></script>
   <script type="text/javascript" src="js/model/entities/Map.js"></script>
   <script type="text/javascript" src="js/model/entities/Universe.js"></script>
   <script type="text/javascript" src="js/model/entities/FormulasManager.js"></script>
   <script type="text/javascript" src="js/model/entities/BooleanSignal.js"></script>
   <script type="text/javascript" src="js/model/entities/TemporalFormula.js"></script>
   <script type="text/javascript" src="js/model/generators/BooleanSignalGenerator.js"></script>
   <script type="text/javascript" src="js/model/generators/FormulaGenerator.js"></script>
</body>
</html>